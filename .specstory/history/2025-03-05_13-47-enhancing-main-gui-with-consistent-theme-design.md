<!-- Generated by SpecStory -->

# Enhancing Main GUI with Consistent Theme Design (2025-03-05 16:47:27)

_**User**_

Make a prompt like this please:

Lets incorporate the same visually appealing UI design from onboarding, and settings page to the main GUI. Make sure to keep the themes working correctly, don't put and hardcoded colors, and make it 100% compatible with themes.


---

_**Assistant**_

# Main GUI Design Enhancement

To incorporate the visually appealing design from the onboarding and settings components into your main GUI, I'll outline changes that will maintain theme compatibility while improving visual consistency.

## Key Visual Elements to Implement

Here's how to update your main GUI with the same visual style from your onboarding and settings pages:

### 1. Add Gradient Background to Main Container

Replace your solid background with a gradient similar to the dialogs:

```python
# Update the main_card_container initialization
self.main_card_container = Container(
    expand=True,
    content=Column(
        expand=True,
        controls=[
            # Existing controls...
        ],
        spacing=24,
    ),
    gradient=LinearGradient(
        begin=alignment.top_center,
        end=alignment.bottom_center,
        colors=[
            self.COLORS["bg"]["secondary"], 
            self.COLORS["bg"]["primary"]
        ]
    ),
    padding=24,
    border_radius=BorderRadius(12, 12, 12, 12),
    shadow=BoxShadow(
        spread_radius=1,
        blur_radius=15,
        color=ft.colors.with_opacity(0.3, "#000000"),
        offset=Offset(0, 4)
    )
)
```

### 2. Update Section Headers with Icon Containers

Apply the same header styling seen in settings and onboarding:

```python
# Create a styled section header
def create_section_header(self, title, icon_name, color_key):
    return Container(
        content=Row(
            controls=[
                # Icon in colored circle
                Container(
                    content=Icon(
                        icon_name,
                        size=24,
                        color=self.COLORS[color_key]["accent"]
                    ),
                    padding=padding.all(12),
                    border_radius=BorderRadius(8, 8, 8, 8),
                    bgcolor=ft.colors.with_opacity(0.1, self.COLORS[color_key]["accent"]),
                ),
                # Section title text
                Text(
                    title,
                    size=18,
                    weight="bold",
                    color=self.COLORS["text"]["primary"]
                ),
            ],
            alignment="center",
            spacing=16,
        ),
        margin=padding.only(bottom=10)
    )

# Update results header using this method
self.results_header = self.create_section_header("Results", Icons.LIST_ALT, "bg")
```

### 3. Enhance Card Components

Apply consistent card styling to all components:

```python
# Update the stats panel styling
self.stats_panel = Card(
    content=Container(
        content=Row(
            controls=[
                # Existing stats controls...
            ],
            alignment="center",
        ),
        gradient=LinearGradient(
            begin=alignment.top_center,
            end=alignment.bottom_center,
            colors=[
                ft.colors.with_opacity(0.7, self.COLORS["bg"]["secondary"]), 
                self.COLORS["bg"]["secondary"]
            ]
        ),
        border_radius=BorderRadius(8, 8, 8, 8),
        padding=padding.all(16),
    ),
    elevation=1,
    color=ft.colors.TRANSPARENT,
)
```

### 4. Add Animation to Interactive Elements

Add hover effects and animations to buttons and interactive elements:

```python
# Enhance the compare button with animation
self.compare_button = Container(
    content=self.create_compare_button(),
    animate=Animation(300, AnimationCurve.EASE_IN_OUT),
    on_hover=lambda e: self._on_button_hover(e, self.compare_button),
    border_radius=BorderRadius(8, 8, 8, 8),
)

# Add a hover animation method
def _on_button_hover(self, e, container):
    if e.data == "true":  # Mouse enter
        container.scale = 1.03
    else:  # Mouse leave
        container.scale = 1.0
    container.update()
```

### 5. Update File Input Components

Apply consistent styling to file input containers:

```python
# Update file input container styling in create_file_input method
def create_file_input(self, label: str, is_source=True):
    # Browse button with enhanced styling
    browse_button = ElevatedButton(
        "Browse",
        icon=Icons.UPLOAD,
        tooltip=f"Select a {label}",
        on_click=self.open_source_picker if is_source else self.open_target_picker,
        style=ButtonStyle(
            color=self.COLORS["text"]["primary"],
            bgcolor=self.COLORS["bg"]["accent"],
            shape=RoundedRectangleBorder(radius=8),
        ),
        height=36,
        focusable=True,
        data={"tab_index": 1 if is_source else 2}
    )
    
    # Enhanced container with animation
    return Container(
        content=Column(
            controls=[
                Text(label, color=self.COLORS["text"]["secondary"], 
                     size=14, weight=FontWeight.W_500),
                Container(
                    content=Row(
                        controls=[
                            self.source_icon if is_source else self.target_icon,
                            self.source_label if is_source else self.target_label,
                            Container(
                                content=browse_button,
                                animate=Animation(300, AnimationCurve.EASE_IN_OUT),
                                on_hover=lambda e, btn=browse_button: self._on_browse_hover(e, btn)
                            ),
                        ],
                        alignment="center",
                        spacing=8,
                    ),
                    border_radius=BorderRadius(8, 8, 8, 8),
                    bgcolor=self.COLORS["bg"]["input"],
                    shadow=BoxShadow(
                        spread_radius=0,
                        blur_radius=4,
                        color=ft.colors.with_opacity(0.1, "#000000"),
                        offset=Offset(0, 2),
                    ),
                    padding=12,
                ),
            ],
            spacing=8,
        )
    )
```

### 6. Update Theme Application Method

Enhance the `update_theme_colors` method to ensure consistent application of theme colors:

```python
# Add to update_theme_colors method
def update_theme_colors(self):
    # Existing theme update code...
    
    # Update all UI components that need theme-specific styling
    self._update_container_gradients()
    self._update_card_styling()
    self._update_icon_containers()
    
    self.page.update()

# Helper method to update container gradients
def _update_container_gradients(self):
    # Update main container gradient
    if hasattr(self, 'main_card_container'):
        self.main_card_container.gradient = LinearGradient(
            begin=alignment.top_center,
            end=alignment.bottom_center,
            colors=[
                self.COLORS["bg"]["secondary"], 
                self.COLORS["bg"]["primary"]
            ]
        )
    
    # Update other containers with gradients...
```

### 7. Update App Header

Enhance the app header to match the styling of dialog headers:

```python
# Update the header container
Container(
    content=Row(
        controls=[
            # App icon in colored circle
            Container(
                content=Icon(
                    Icons.TRANSLATE,
                    size=32,
                    color=self.COLORS["bg"]["accent"]
                ),
                padding=padding.all(12),
                border_radius=BorderRadius(8, 8, 8, 8),
                bgcolor=ft.colors.with_opacity(0.1, self.COLORS["bg"]["accent"]),
            ),
            Text(
                "Localization Comparison Tool",
                size=28,
                weight="bold",
                color=self.COLORS["text"]["primary"],
                text_align="center",
                expand=True,
            ),
            Row(
                controls=[
                    self.history_button,
                    self.settings_button,
                ],
                spacing=8,
            ),
        ],
        alignment="spaceBetween",
        vertical_alignment="center",
    ),
    padding=padding.only(bottom=24),
    animate=Animation(300, AnimationCurve.EASE_IN_OUT),
)
```

## Implementation Recommendations

1. **Avoid Hardcoded Colors**: Always use `self.COLORS` dictionary for color references
2. **Test Theme Switching**: Verify all components update properly when switching themes
3. **Incremental Updates**: Implement these changes one section at a time to test compatibility
4. **Responsiveness**: Ensure all components remain responsive on different screen sizes
5. **Animation Performance**: Use lightweight animations to maintain app performance

These changes will bring visual consistency between your main GUI and dialog components while ensuring theme compatibility and maintaining a responsive, user-friendly interface.

---

